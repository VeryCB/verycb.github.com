<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>My Charts</title>
        <style>
            body {
                background-color: #131722;
            }
            .tradingview-widget-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            }
            .tradingview-widget-container .section {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                grid-template-rows: repeat(4, 180px);
            }
            .tradingview-widget-container .full-chart {
                grid-column: span 2;
                grid-row: span 2;
            }
            @media only screen and (max-device-width: 480px),
                only screen and (min-device-width: 560px) and (max-device-width: 1136px) and (-webkit-min-device-pixel-ratio: 2) {
                .tradingview-widget-container {
                    grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
                    grid-template-rows: repeat(4, 360px);
                }
            }
        </style>
    </head>
    <body>
        <div class="tradingview-widget-container">
            <div class="section">
                <div id="tradingview_btc" class="full-chart"></div>
                <div id="tradingview_eth" class="full-chart"></div>
            </div>
            <div class="section">
                <div id="tradingview_asto" class="full-chart"></div>
                <div id="tradingview_apt" class="full-chart"></div>
            </div>
        </div>

        <script
            type="text/javascript"
            src="https://s3.tradingview.com/tv.js"
        ></script>
        <script type="text/javascript">
            new TradingView.widget({
                autosize: true,
                symbol: "BINANCE:BTCUSDT",
                interval: "15",
                timezone: "Pacific/Auckland",
                theme: "Dark",
                style: "1",
                locale: "en",
                toolbar_bg: "#f1f3f6",
                enable_publishing: false,
                hide_top_toolbar: true,
                allow_symbol_change: true,
                save_image: false,
                container_id: "tradingview_btc",
            });

            new TradingView.widget({
                autosize: true,
                symbol: "BINANCE:ETHUSDT",
                interval: "15",
                timezone: "Pacific/Auckland",
                theme: "Dark",
                style: "1",
                locale: "en",
                toolbar_bg: "#f1f3f6",
                enable_publishing: false,
                hide_top_toolbar: true,
                allow_symbol_change: true,
                save_image: false,
                container_id: "tradingview_eth",
            });

            new TradingView.widget({
                autosize: true,
                symbol: "UNISWAP:ASTOUSDC",
                interval: "15",
                timezone: "Pacific/Auckland",
                theme: "Dark",
                style: "1",
                locale: "en",
                toolbar_bg: "#f1f3f6",
                enable_publishing: false,
                hide_top_toolbar: true,
                allow_symbol_change: true,
                save_image: false,
                container_id: "tradingview_asto",
            });

            new TradingView.widget({
                autosize: true,
                symbol: "BINANCE:APTUSDT",
                interval: "15",
                timezone: "Pacific/Auckland",
                theme: "Dark",
                style: "1",
                locale: "en",
                toolbar_bg: "#f1f3f6",
                enable_publishing: false,
                hide_top_toolbar: true,
                allow_symbol_change: true,
                save_image: false,
                container_id: "tradingview_apt",
            });
        </script>
        <script type="text/javascript">
            var httpGetAsync = function (url, callback) {
                {
                    var xmlHttp = new XMLHttpRequest();
                    xmlHttp.onreadystatechange = function () {
                        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                            callback(JSON.parse(xmlHttp.responseText));
                    };
                    xmlHttp.open("GET", url, true); // true for asynchronous
                    xmlHttp.send(null);
                }
            };

            var url = "https://blockchain.info/ticker?cors=true";

            var handleData = function (data) {
                var title = "$" + data["USD"]["last"] + " - BTC/USD";
                document.title = title;
            };

            setInterval(function () {
                httpGetAsync(url, handleData);
            }, 60000); // run every minute
        </script>
    </body>
</html>
